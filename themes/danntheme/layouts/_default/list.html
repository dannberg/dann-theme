{{ define "main" }}
<script type="text/javascript">
    $(document).ready(function() {
        $('.dyn-items div a').click(function() {
            const $this = $(this);
            const filterItemText = $this.text();
            const $blogPosts = $('#blog-posts');

            $('.dyn-items div').removeClass('active');

            $this.parent().addClass('active');

            if (filterItemText == 'All') {
                $blogPosts.children('div.item').show();
            } else {
                $blogPosts.children('div:not(.' + filterItemText + ')').hide();
                $blogPosts.children('div.' + filterItemText).show();
            }
            return false;
        });
    });
</script>
<div class="container">
    <div class="section">
        <div class="content">
            <h1>{{ .Title }}</h1>
            {{ .Content }}
            <h2>Categories</h2>
            <div class="dyn-list">
                <div class="dyn-items">
                    <div class="active filter-item"><a href="#" class="filter-text-link">All</a></div>
                    {{range ($.Site.GetPage "taxonomyTerm" "categories").Pages }}
                    <div class="filter-item"><a href="#" class="filter-text-link">{{.Title}}</a></div>
                    {{end}}
                </div>
            </div>
            <div id="blog-posts">
            {{ range .Pages }}
            <div class="item {{with .Params.categories }}{{ index . 0 }}{{ end }}">
                <hr />
                <p><strong><a href="{{ .Permalink }}">{{ .Title }}</a></strong></p>
                <p>{{ .Page.Description }}</p>
            </div>
            {{ end }}
            </div>
        </div>
    </div>
</div>
{{ end }}
